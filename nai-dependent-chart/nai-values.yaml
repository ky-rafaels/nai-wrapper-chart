global:
  repository: "harbor.example.com/nutanix"
  nkpWorkspaceNamespace: "nai-system"
gatewayCrdsHelm:
  crds:
    gatewayAPI:
      enabled: true
    envoyGateway:
      enabled: true
gatewayHelm:
  global:
    images:
      envoyGateway:
        image: "nai-gateway:v1.5.0"
      naiProxy: 
        image: "nai-envoy:distroless-v1.35.0"
      ratelimit: 
        image: "nai-ratelimit:3e085e5b"
    imagePullSecrets:
      - name: regcred
kserve:
  controller:
    deploymentMode: RawDeployment
    gateway:
      disableIngressCreation: true
    image: "nai-kserve-controller"
    rbacProxyImage: "nai-kserve-rbac-proxy:v0.18.0"
    imagePullSecrets:
      - name: regcred
naiOperators:
  imagePullSecret:
    credentials:
      username: "harbor-username"
      password: "harbor-password"
      email: ""
      registry: "harbor.example.com"
  naiRedis:
    naiRedisImage: 
      name: "nai-redis:distroless-v1.35.0"
  naiJobs:
    naiJobsImage:
      image: "nai-jobs"
  nai-clickhouse-operator:
    operator:
      image:
        registry: ""
        repository: nai-clickhouse-operator
    metrics:
      image:
        registry: ""
        repository: nai-clickhouse-metrics-exporter
  ai-gateway-helm:
    extProc:
      image:
        repository: "nai-ai-gateway-extproc"
        tag: c4f26a8
    controller:
      image:
        repository: "nai-ai-gateway-controller"
        tag: c4f26a8

naiCore:
  # ────────────────────────────────────────────────────────────────
  # Image Pull Secret (docker-registry secret creation)
  # ────────────────────────────────────────────────────────────────
  imagePullSecret:
    credentials:
      username: "harbor-username"
      password: "harbor-password"
      email: ""
      registry: "harbor.example.com"

  # ────────────────────────────────────────────────────────────────
  # Core component image overrides
  # ────────────────────────────────────────────────────────────────
  naiIepOperator:
    iepOperatorImage:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-iep-operator"
    modelProcessorImage:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-model-processor"

  naiInferenceUi:
    naiUiImage:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-inference-ui"

  naiJobs:
    naiJobsImage:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-jobs"

  naiApi:
    naiApiImage:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-api"
    supportedTGIImage:          "${IMAGE_REGISTRY_URL}/nutanix/nai-tgi"
    supportedKserveRuntimeImage: "${IMAGE_REGISTRY_URL}/nutanix/nai-kserve-huggingfaceserver"
    supportedVLLMImage:         "${IMAGE_REGISTRY_URL}/nutanix/nai-vllm"
    supportedKserveCustomModelServerRuntimeImage: "${IMAGE_REGISTRY_URL}/nutanix/nai-kserve-custom-model-server"

  naiIam:
    iamProxy:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-iam-proxy"
    iamProxyControlPlane:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-iam-proxy-control-plane"
    iamUi:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-iam-ui"
    iamUserAuthn:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-iam-user-authn"
    iamThemis:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-iam-themis"
    iamThemisBootstrap:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-iam-bootstrap"

  naiLabs:
    labsImage:
      image: "${IMAGE_REGISTRY_URL}/nutanix/nai-rag-app"

  # ────────────────────────────────────────────────────────────────
  # ClickHouse related components
  # ────────────────────────────────────────────────────────────────
  nai-clickhouse-keeper:
    clickhouseKeeper:
      image:
        registry: "${IMAGE_REGISTRY_URL}/nutanix"
        repository: nai-clickhouse-keeper
      resources:
        limits:
          memory: 1Gi
        requests:
          memory: 1Gi

  nai-clickhouse-server:
    clickhouse:
      image:
        registry: "${IMAGE_REGISTRY_URL}/nutanix"
        repository: nai-clickhouse-server
      initContainers:
        addUdf:
          image:
            registry: "${IMAGE_REGISTRY_URL}/nutanix"
            repository: nai-clickhouse-udf
        waitForKeeper:
          image:
            registry: "${IMAGE_REGISTRY_URL}/nutanix"
            repository: nai-jobs

  nai-clickhouse-schemas:
    image:
      registry: "${IMAGE_REGISTRY_URL}/nutanix"
      repository: nai-clickhouse-schemas

  # ────────────────────────────────────────────────────────────────
  # Monitoring & OpenTelemetry
  # ────────────────────────────────────────────────────────────────
  naiMonitoring:
    opentelemetry:
      collectorImage: "${IMAGE_REGISTRY_URL}/nutanix/nai-opentelemetry-collector-contrib:0.136.0"
      targetAllocator:
        image:
          repository: "${IMAGE_REGISTRY_URL}/nutanix/nai-target-allocator"
      common:
        resources:
          requests:
            cpu: 0.1

    nodeExporter:
      serviceMonitor:
        namespaceSelector:
          matchNames:
            - "${NKP_WORKSPACE_NAMESPACE}"

    dcgmExporter:
      serviceMonitor:
        namespaceSelector:
          matchNames:
            - "${NKP_WORKSPACE_NAMESPACE}"

  # ────────────────────────────────────────────────────────────────
  # Storage configuration
  # ────────────────────────────────────────────────────────────────
  naiApi:
    storageClassName: "${NAI_API_RWX_STORAGECLASS}"

  defaultStorageClassName: "${NAI_DEFAULT_RWO_STORAGECLASS}"

  # ────────────────────────────────────────────────────────────────
  # OAuth2 Proxy (often used for ingress/auth)
  # ────────────────────────────────────────────────────────────────
  oauth2-proxy:
    image:
      repository: "${IMAGE_REGISTRY_URL}/nutanix/nai-oauth2-proxy"